<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="arcmode" />
  <meta name="dcterms.date" content="2023-10-07" />
  <title>Blogging in Github - Part 2. How It Works</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height; auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2; background-color: #282a36; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; } /* Alert */
    code span.an { color: #60a0b0; } /* Annotation */
    code span.at { color: #f8f8f2; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #ff79c6; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #6272a4; } /* Comment */
    code span.cv { color: #60a0b0; } /* CommentVar */
    code span.do { color: #ba2121; } /* Documentation */
    code span.dt { color: #f8f8f2; } /* DataType */
    code span.dv { color: #bd93f9; } /* DecVal */
    code span.er { color: #ff0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #50fa7b; } /* Function */
    code span.im { color: #ff79c6; } /* Import */
    code span.in { color: #60a0b0; } /* Information */
    code span.kw { color: #ff79c6; } /* Keyword */
    code span.op { color: #ff79c6; } /* Operator */
    code span.ot { color: #50fa7b; font-style: italic; } /* Other */
    code span.pp { color: #8be9fd; } /* Preprocessor */
    code span.sc { color: #ff79c6; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #f1fa8c; } /* String */
    code span.va { color: #ff79c6; } /* Variable */
    code span.vs { color: #f1fa8c; } /* VerbatimString */
    code span.wa { color: #60a0b0; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
  <style>
    body {
        font-family: 'Roboto';
        /* font-size: 22px; */
    }
   nav {
       border: 1px solid;
       border-radius: 10px;
       padding: 1REM;
       background: #f1f1f1;
   }
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Blogging in Github - Part 2. How It Works</h1>
<p class="author">arcmode</p>
<p class="date">2023-10-07</p>
</header>
<nav id="TOC" role="doc-toc">
<ul class="incremental">
<li><a href="#tooling" id="toc-tooling">Tooling</a>
<ul class="incremental">
<li><a href="#why-org-mode" id="toc-why-org-mode">Why Org mode</a></li>
<li><a href="#why-latex" id="toc-why-latex">Why LaTeX</a></li>
</ul></li>
<li><a href="#architecture" id="toc-architecture">Architecture</a>
<ul class="incremental">
<li><a href="#file-and-repository-structure"
id="toc-file-and-repository-structure">File and repository
structure</a></li>
</ul></li>
</ul>
</nav>
<p>I am trying to get more active on this blog. I want to start adding
posts more often so I can exercise my writing skills and motivate myself
to try new things and share more.</p>
<h1 id="tooling">Tooling</h1>
<p>In the previous post I presented the tools I am using for building
this blogging system. I found examples online of people using this
approach so I decided to make my own borrwing the snippets that I needed
to get started.</p>
<p>To summarize, the tools I am using at the moment are the
following</p>
<ol class="incremental">
<li>Source
<ol class="incremental">
<li>MarkDown</li>
<li>Org mode</li>
<li>LaTeX</li>
</ol></li>
<li>Build system
<ol class="incremental">
<li>Make</li>
<li>Pandoc</li>
</ol></li>
<li>Deployment system
<ol class="incremental">
<li>Make</li>
<li>GitHub Pages</li>
</ol></li>
</ol>
<h2 id="why-org-mode">Why Org mode</h2>
<p>The initial setup for this blog was based on Markdown. Thanks to
Pandoc, today I am working on adding Org mode as an option for wriging
posts too.</p>
<p>Some of the things I like the most about Org mode</p>
<ol class="incremental">
<li>Emacs support</li>
<li>Pandoc compatible</li>
<li>Multi-purpose: documentation, literate coding, blogging, writing,
etcâ€¦</li>
</ol>
<p>That's it. I don't know if I will use Org mode or Markdown more but
having both available is cool and working with Org mode is always
somethig I find to be fun. One one hand GitHub has great Markdown
support including some neat features like mermaidjs diagrams but on the
other hand Org mode offers many great features too like being able to
include entire files in the generated output and the ability to execute
code (similar to a jupyter notebook).</p>
<h2 id="why-latex">Why LaTeX</h2>
<p>I fell in love with LaTeX when I was a student. I don't have a good
excuse yet to use it in the blog but I am hoping to find one soon. Until
then I will not expand on it. If you are not familiar with LaTeX don't
worry as it is not required for anything related to blogging or anything
at all regarding how to publish your blog as a GitHub Page.</p>
<h1 id="architecture">Architecture</h1>
<p>The entire architecture is encapsulated in a single Makefile and the
contract it defines with the source files in terms of directory
structures and file extensions.</p>
<p>For example, files with supported extensions for the blogging source
files are expected to be present at <code
class="verbatim">blog/*/*.{md,org,text}</code> where the first level
after blog signifies a given blog category as a filesystem directory and
the second one is expected to target a specific file under that
directory.</p>
<h2 id="file-and-repository-structure">File and repository
structure</h2>
<p>Currently the repository contains two deployment targets managed as
git remotes. This works because GitHub automatically deploys the static
files on repositories following their guidelines. You can google for
GitHub pages and GitHub profiles to learn about the details.</p>
<p>The blog and profile are generated as different folders using Pandoc,
then each output is pushed to the respective git remote. The blog uses
<code class="verbatim">origin</code> and the profile page uses a git
sub-tree targeting it's own remote.</p>
<ol class="incremental">
<li>Blog -&gt; github:&lt;username&gt;.github.io.git</li>
<li>Profile -&gt; github:&lt;username&gt;.git</li>
</ol>
<p>That's it for now. Here's the Makefile if you want to take a look.
You can also find it in the <a
href="https://github.com/arcmode/arcmode.github.io">repo</a></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode makefile"><code class="sourceCode makefile"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">all:</span><span class="dt"> </span><span class="ch">$(</span><span class="dt">blog</span><span class="ch">)</span><span class="dt"> blog_index profile</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dv">clean:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">(rm -fr </span><span class="ch">$(</span><span class="dt">dist_path</span><span class="ch">)</span><span class="fu"> 2&gt;/dev/null || true) &amp;&amp; mkdir -p {</span><span class="ch">$(</span><span class="dt">profile_dist</span><span class="ch">)</span><span class="fu">,</span><span class="ch">$(</span><span class="dt">blog_dist</span><span class="ch">)</span><span class="fu">}</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="dv">print-%:</span><span class="dt"> </span><span class="ch">;</span> <span class="ch">@</span><span class="fu">echo </span><span class="ch">$*</span><span class="fu">=</span><span class="ch">$($*)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">########### VARIABLES #############</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="dt">blog_src</span> <span class="ch">=</span><span class="st"> ./blog</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="dt">dist_path</span> <span class="ch">=</span><span class="st"> ./dist</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="dt">blog_dist</span> <span class="ch">=</span><span class="st"> ./dist/blog</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="dt">profile_dist</span> <span class="ch">=</span><span class="st"> ./dist/profile</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="dt">profile_prefix</span> <span class="ch">=</span><span class="st"> &#39;dist/profile&#39;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="dt">profile_remote</span> <span class="ch">=</span><span class="st"> &#39;gh-profile&#39;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="dt">profile_remote_url</span> <span class="ch">=</span><span class="st"> &#39;https://github.com/</span><span class="ch">$(</span><span class="dt">GH_USER</span><span class="ch">)</span><span class="st">/</span><span class="ch">$(</span><span class="dt">GH_USER</span><span class="ch">)</span><span class="st">.git&#39;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="dt">blog_posts_wip_src</span> <span class="ch">:=</span><span class="st"> </span><span class="ch">$(</span><span class="kw">wildcard</span><span class="st"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="st">/*/WIP_*</span><span class="ch">)</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="dt">blog_posts_src</span> <span class="ch">:=</span><span class="st"> </span><span class="ch">$(</span><span class="kw">filter-out</span><span class="st"> </span><span class="ch">$(</span><span class="dt">blog_posts_wip_src</span><span class="ch">)</span><span class="kw">,</span><span class="st"> </span><span class="ch">$(</span><span class="kw">wildcard</span><span class="st"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="st">/*/*.md</span><span class="ch">)</span><span class="st"> \</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="st">									</span><span class="ch">$(</span><span class="kw">wildcard</span><span class="st"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="st">/*/*.org</span><span class="ch">)</span><span class="st"> \</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="st">									</span><span class="ch">$(</span><span class="kw">wildcard</span><span class="st"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="st">/*/*.tex</span><span class="ch">))</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="dt">blog</span> <span class="ch">:=</span><span class="st"> </span><span class="ch">$(</span><span class="kw">patsubst</span><span class="st"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="st">/%.org</span><span class="kw">,</span><span class="ch">$(</span><span class="dt">blog_dist</span><span class="ch">)</span><span class="st">/%.html</span><span class="kw">,</span><span class="st"> \</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="st">					</span><span class="ch">$(</span><span class="kw">patsubst</span><span class="st"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="st">/%.md</span><span class="kw">,</span><span class="ch">$(</span><span class="dt">blog_dist</span><span class="ch">)</span><span class="st">/%.html</span><span class="kw">,</span><span class="st"> \</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="st">					</span><span class="ch">$(</span><span class="kw">patsubst</span><span class="st"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="st">/%.tex</span><span class="kw">,</span><span class="ch">$(</span><span class="dt">blog_dist</span><span class="ch">)</span><span class="st">/%.html</span><span class="kw">,</span><span class="st"> \</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="st">						</span><span class="ch">$(</span><span class="dt">blog_posts_src</span><span class="ch">))))</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co">########### BLOG #############</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="dv">$(blog_dist)/%.html:</span><span class="dt"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="dt">/%.md</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">mkdir -p </span><span class="ch">$(</span><span class="dt">@D</span><span class="ch">)</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">pandoc -i </span><span class="ch">$&lt;</span><span class="fu"> -t html -o </span><span class="ch">$@</span><span class="fu"> </span><span class="ch">\</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="fu">		--template ./templates/root.html </span><span class="ch">\</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="fu">		--toc </span><span class="ch">\</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="fu">		--highlight-style themes/dracula.theme</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="dv">$(blog_dist)/%.html:</span><span class="dt"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="dt">/%.org</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">mkdir -p </span><span class="ch">$(</span><span class="dt">@D</span><span class="ch">)</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">pandoc -f org -i </span><span class="ch">$&lt;</span><span class="fu"> -t html -o </span><span class="ch">$@</span><span class="fu"> </span><span class="ch">\</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="fu">		--template ./templates/root.html </span><span class="ch">\</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="fu">		--toc </span><span class="ch">\</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="fu">		--highlight-style themes/dracula.theme</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="dv">$(blog_dist)/%.html:</span><span class="dt"> </span><span class="ch">$(</span><span class="dt">blog_src</span><span class="ch">)</span><span class="dt">/%.tex</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">mkdir -p </span><span class="ch">$(</span><span class="dt">@D</span><span class="ch">)</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">pandoc -f latex -i </span><span class="ch">$&lt;</span><span class="fu"> -t html -o </span><span class="ch">$@</span><span class="fu"> </span><span class="ch">\</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="fu">		--template ./templates/root.html </span><span class="ch">\</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="fu">		--toc </span><span class="ch">\</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="fu">		--highlight-style themes/dracula.theme</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="dv">remove_index:</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">rm </span><span class="ch">$(</span><span class="dt">blog_dist</span><span class="ch">)</span><span class="fu">/index.html 2&gt;/dev/null || true</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="dv">blog_index:</span><span class="dt"> </span><span class="ch">$(</span><span class="dt">blog</span><span class="ch">)</span><span class="dt"> remove_index</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@$(</span><span class="kw">foreach</span><span class="st"> series</span><span class="kw">,</span><span class="st"> </span><span class="ch">$(</span><span class="kw">wildcard</span><span class="st"> </span><span class="ch">$(</span><span class="dt">blog_dist</span><span class="ch">)</span><span class="st">/*</span><span class="ch">)</span><span class="kw">,</span><span class="st"> \</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="st">		ls </span><span class="ch">$(</span><span class="dt">series</span><span class="ch">)</span><span class="st"> \</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="st">			| grep -v index.html \</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="st">			| ./scripts/filename2index.sh \</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="st">			| pandoc -t html -o </span><span class="ch">$(</span><span class="dt">series</span><span class="ch">)</span><span class="st">/index.html \</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="st">				--metadata title:&quot;</span><span class="ch">$(</span><span class="kw">shell</span><span class="st"> echo &#39;</span><span class="ch">$(</span><span class="dt">series</span><span class="ch">)</span><span class="st">&#39; | ./scripts/directory2title.sh</span><span class="ch">)</span><span class="st">&quot; \</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="st">				--template ./templates/root.html \</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="st">				--highlight-style themes/dracula.theme;</span><span class="ch">)</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">ls </span><span class="ch">$(</span><span class="dt">blog_dist</span><span class="ch">)</span><span class="fu"> </span><span class="ch">\</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="fu">	  	| grep -v index.html </span><span class="ch">\</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="fu">	  	| ./scripts/directory2index.sh </span><span class="ch">\</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a><span class="fu">	  	| pandoc -t html -o </span><span class="ch">$(</span><span class="dt">blog_dist</span><span class="ch">)</span><span class="fu">/index.html </span><span class="ch">\</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="fu">				--metadata title:</span><span class="st">&quot;</span><span class="ch">$(</span><span class="dt">GH_USER</span><span class="ch">)</span><span class="st">/blog&quot;</span><span class="fu"> </span><span class="ch">\</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="fu">	  		--template ./templates/root.html </span><span class="ch">\</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="fu">	  		--highlight-style themes/dracula.theme</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a><span class="co">########### PROFILE #############</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="dv">profile:</span><span class="dt"> </span><span class="ch">$(</span><span class="kw">wildcard</span><span class="st"> ./README.org</span><span class="ch">)</span><span class="dt"> </span><span class="ch">$(</span><span class="kw">wildcard</span><span class="st"> ./README.md</span><span class="ch">)</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">[[ -f ./README.org ]] &amp;&amp; bash -c </span><span class="st">&#39;cat ./README.org \</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a><span class="st">		| tee &gt;(pandoc -f org -t gfm -o </span><span class="ch">$(</span><span class="dt">profile_dist</span><span class="ch">)</span><span class="st">/README.md) \</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="st">		| pandoc -f org -t html -o ./index.html --template ./templates/root.html&#39;</span><span class="fu"> || true</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">[[ -f ./README.md ]] &amp;&amp; bash -c </span><span class="st">&#39;cat ./README.md \</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a><span class="st">		| tee &gt;(pandoc -t gfm -o </span><span class="ch">$(</span><span class="dt">profile_dist</span><span class="ch">)</span><span class="st">/README.md) \</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a><span class="st">		| pandoc -t html -o ./index.html --template ./templates/root.html&#39;</span><span class="fu"> || true</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a><span class="co">########### DEPLOY #############</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a><span class="dv">commit:</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a><span class="cf">ifneq</span> (<span class="ch">$(</span><span class="kw">shell</span><span class="st"> git status --short</span><span class="ch">)</span>,)</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">git checkout master</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">git add .</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">git commit</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a><span class="cf">endif</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a><span class="dv">rebase:</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">git checkout master </span><span class="ch">\</span></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a><span class="fu">		&amp;&amp; git fetch --all </span><span class="ch">\</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="fu">		&amp;&amp; git pull --rebase origin master </span><span class="ch">\</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a><span class="fu">    --recurse-submodules</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a><span class="dv">deploy-profile:</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">git checkout master </span><span class="ch">\</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a><span class="fu">		&amp;&amp; git diff --quiet </span><span class="ch">\</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a><span class="fu">		&amp;&amp; git subtree split --prefix </span><span class="ch">$(</span><span class="dt">profile_prefix</span><span class="ch">)</span><span class="fu"> -b gh-profile </span><span class="ch">\</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a><span class="fu">		&amp;&amp; git push -f </span><span class="ch">$(</span><span class="dt">profile_remote</span><span class="ch">)</span><span class="fu"> gh-profile:master </span><span class="ch">\</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a><span class="fu">		&amp;&amp; git branch -D gh-profile</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a><span class="dv">deploy-blog:</span></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">git checkout master </span><span class="ch">\</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a><span class="fu">		&amp;&amp; git diff --quiet </span><span class="ch">\</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a><span class="fu">		&amp;&amp; git push origin master --force</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a><span class="dv">deploy-all:</span><span class="dt"> commit rebase deploy-blog deploy-profile</span></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a><span class="dv">deploy-quick:</span><span class="dt"> deploy-blog deploy-profile</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a><span class="co">########### INIT #############</span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a><span class="dv">init-profile-remote:</span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">(git remote rm </span><span class="ch">$(</span><span class="dt">profile_remote</span><span class="ch">)</span><span class="fu"> 2&gt;/dev/null </span><span class="ch">\</span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a><span class="fu">		&amp;&amp; git remote add </span><span class="ch">$(</span><span class="dt">profile_remote</span><span class="ch">)</span><span class="fu"> </span><span class="ch">$(</span><span class="dt">profile_remote_url</span><span class="ch">)</span><span class="fu">) </span><span class="ch">\</span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a><span class="fu">		|| git remote add </span><span class="ch">$(</span><span class="dt">profile_remote</span><span class="ch">)</span><span class="fu"> </span><span class="ch">$(</span><span class="dt">profile_remote_url</span><span class="ch">)</span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a><span class="dv">init-profile:</span><span class="dt"> init-profile-remote</span></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>	<span class="ch">@</span><span class="fu">[[ -d </span><span class="ch">$(</span><span class="dt">profile_dist</span><span class="ch">)</span><span class="fu"> ]] </span><span class="ch">\</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a><span class="fu">		|| git subtree add --prefix </span><span class="ch">$(</span><span class="dt">profile_dist</span><span class="ch">)</span><span class="fu"> </span><span class="ch">$(</span><span class="dt">profile_remote</span><span class="ch">)</span><span class="fu"> master -m </span><span class="st">&#39;ðŸ¤– add profile subtree&#39;</span></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a><span class="dv">init:</span><span class="dt"> clean init-profile-remote init-profile</span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a><span class="co">########### </span><span class="re">END</span><span class="co"> #############</span></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a><span class="ot">.PHONY:</span><span class="dt"> all deploy-all deploy-blog deploy-profile init-profile-remote init-profile clean init commit rebase</span></span></code></pre></div>
<p>Thanks for reading, if you have any question just hit me up by email
at <code class="verbatim">drojascamaggi@gmail.com</code></p>
</body>
</html>
